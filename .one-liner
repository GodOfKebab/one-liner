# This file is all you need for one-liner tool to work.
# PARAMETERS START
ONELINER_PATH="$HOME/.one-liner"
export ONELINER_PATH

ONELINER_PYTHON_EXEC="python3"
export ONELINER_PYTHON_EXEC
# PARAMETERS END

alias one-liner='python3 -c "import base64; decoded_string = base64.b64decode(b'"'"'IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoKaW1wb3J0IGJhc2U2NAppbXBvcnQgYXJncGFyc2UKaW1wb3J0IG9zCmltcG9ydCByZQppbXBvcnQgcGFyc2VyCmZyb20gb3MgaW1wb3J0IHBhdGgKCgpjbGFzcyBPbmVMaW5lcjoKICAgICMgY2hhbmdlIG5hbWUgbXYKICAgIG1vZGVzID0geyJpbml0IjogICAgIFsiaW5pdCJdLAogICAgICAgICAgICAgImNyZWF0ZSI6ICAgWyJjcmVhdGUiLCAiY3IiLCAidG91Y2giXSwKICAgICAgICAgICAgICJvdmVycmlkZSI6IFsib3ZlcnJpZGUiLCAib3YiXSwKICAgICAgICAgICAgICJyZW5hbWUiOiAgIFsicmVuYW1lIiwgIm12Il0sCiAgICAgICAgICAgICAicHJpbnQiOiAgICBbInByaW50IiwgInByIiwgImNhdCJdLAogICAgICAgICAgICAgImR1bXAiOiAgICAgWyJkdW1wIiwgImRtcCJdLAogICAgICAgICAgICAgImxpc3QiOiAgICAgWyJsaXN0IiwgImxzIl0sCiAgICAgICAgICAgICAiZGVsZXRlIjogICBbImRlbGV0ZSIsICJkZWwiLCAicm0iXX0KCiAgICBvbmVfbGluZXJfYWxpYXNfZmlsZSA9IG9zLmVudmlyb25bIk9ORUxJTkVSX1BBVEgiXQogICAgb25lX2xpbmVyX3B5dGhvbl9leGVjID0gb3MuZW52aXJvblsiT05FTElORVJfUFlUSE9OX0VYRUMiXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLnBhcnNlciA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKAogICAgICAgICAgICBkZXNjcmlwdGlvbj0nTWFrZSBvciByZWFkIG9uZS1saW5lciBweXRob24gZXhlY3V0YWJsZSBjb21tYW5kcyB3aXRob3V0IHJlbHlpbmcgb24gYW55IGZpbGUuJykKICAgICAgICBzZWxmLnBhcnNlci5hZGRfYXJndW1lbnQoJ21vZGUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz1bbW9kZV9jbGkgZm9yIG1vZGUgaW4gT25lTGluZXIubW9kZXMgZm9yIG1vZGVfY2xpIGluIE9uZUxpbmVyLm1vZGVzW21vZGVdXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD1PbmVMaW5lci5jcmVhdGVfbW9kZV9oZWxwX3RleHQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YXZhcj0nbW9kZScpCiAgICAgICAgc2VsZi5wYXJzZXIuYWRkX2FyZ3VtZW50KCctbicsICctLW5hbWUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdD0iIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVscD0nYWxpYXMgbmFtZSBmb3IgdGhlIG9uZS1saW5lcicpCiAgICAgICAgc2VsZi5wYXJzZXIuYWRkX2FyZ3VtZW50KCctZicsICctLWZpbGVwYXRoJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1zdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9J3BhdGggZm9yIHRoZSBweXRob24gZmlsZSB0byBiZSBjb252ZXJ0ZWQgdG8gb25lLWxpbmVyJykKICAgICAgICBzZWxmLnBhcnNlci5hZGRfYXJndW1lbnQoIi12IiwgIi0tdmVyYm9zZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHA9ImVuYWJsZSBkZWJ1ZyBwcmludGluZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIpCiAgICAgICAgc2VsZi5wYXJzZXIuYWRkX2FyZ3VtZW50KCctLWluaXRfZmlsZV9jb250ZW50cycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9c3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0PSIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwPSdjb2RlIGZvciB0aGUgb25lLWxpbmVyJykKCiAgICAgICAgc2VsZi5hcmdzID0gc2VsZi5wYXJzZXIucGFyc2VfYXJncygpCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIGNyZWF0ZV9tb2RlX2hlbHBfdGV4dCgpOgogICAgICAgIG1vZGVfaGVscF90ZXh0ID0gInNlbGVjdCBtb2RlOiAiCiAgICAgICAgZm9yIG1vZGUgaW4gT25lTGluZXIubW9kZXM6CiAgICAgICAgICAgIGZvciBpLCBtb2RlX2NsaSBpbiBlbnVtZXJhdGUoT25lTGluZXIubW9kZXNbbW9kZV0pOgogICAgICAgICAgICAgICAgaWYgaSA9PSAwOgogICAgICAgICAgICAgICAgICAgIGlmIGxlbihPbmVMaW5lci5tb2Rlc1ttb2RlXSkgPT0gMToKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZV9oZWxwX3RleHQgKz0gbW9kZV9jbGkgKyAiLCAiCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZV9oZWxwX3RleHQgKz0gbW9kZV9jbGkgKyAiIFssICIKICAgICAgICAgICAgICAgIGVsaWYgaSAhPSBsZW4oT25lTGluZXIubW9kZXNbbW9kZV0pIC0gMToKICAgICAgICAgICAgICAgICAgICBtb2RlX2hlbHBfdGV4dCArPSBtb2RlX2NsaSArICIsICIKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgbW9kZV9oZWxwX3RleHQgKz0gbW9kZV9jbGkgKyAiXSwgIgogICAgICAgIHJldHVybiBtb2RlX2hlbHBfdGV4dAoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHByaW50KCJJbml0aWFsaXppbmcuLi4iKQogICAgICAgIHNlbGYuX2hhbmRsZV9hcmdzX3JlcXVpcmVkKGluaXRfY29udGVudHNfcmVxdWlyZWQ9VHJ1ZSkKCiAgICAgICAgb25lX2xpbmVyX25hbWUgPSAib25lLWxpbmVyIgogICAgICAgIGJ5dGVfYXJyYXkgPSBzZWxmLmFyZ3MuaW5pdF9maWxlX2NvbnRlbnRzLmVuY29kZSgndXRmLTgnKQogICAgICAgIG9uZV9saW5lciA9ICJhbGlhcyB7fT0ne30gLWMgXCJpbXBvcnQgYmFzZTY0OyBkZWNvZGVkX3N0cmluZyA9IGJhc2U2NC5iNjRkZWNvZGUoYidcIidcIid7fSdcIidcIicpLmRlY29kZSgpOyAiIFwKICAgICAgICAgICAgICAgICAgICAiZXhlYyhkZWNvZGVkX3N0cmluZylcIiciLmZvcm1hdChvbmVfbGluZXJfbmFtZSwgT25lTGluZXIub25lX2xpbmVyX3B5dGhvbl9leGVjLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NC5iNjRlbmNvZGUoYnl0ZV9hcnJheSkuZGVjb2RlKCJ1dGYtOCIpKQoKICAgICAgICBpZiBzZWxmLmFyZ3MudmVyYm9zZToKICAgICAgICAgICAgcHJpbnQob25lX2xpbmVyKQoKICAgICAgICAjIGFkZCB0aGUgb25lLWxpbmVyLnB5IGFzIGEgb25lLWxpbmVyCiAgICAgICAgd2l0aCBvcGVuKE9uZUxpbmVyLm9uZV9saW5lcl9hbGlhc19maWxlLCAnYSsnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmaWxlOgogICAgICAgICAgICBmaWxlLndyaXRlKCJcbiIgKyBvbmVfbGluZXIgKyAiXG4iKQoKICAgICAgICAjIGFkZCB0aGUgInNvdXJjZSAkSE9NRS8ub25lLWxpbmVyIiB0byB0aGUgLmJhc2hyYy8uenNocmMKICAgICAgICBob21lID0gb3MuZW52aXJvblsiSE9NRSJdCiAgICAgICAgaWYgb3MuZW52aXJvblsiU0hFTEwiXSA9PSAiL2Jpbi9iYXNoIjoKICAgICAgICAgICAgcmNfZmlsZSA9IGhvbWUgKyAiLy5iYXNocmMiCiAgICAgICAgZWxpZiBvcy5lbnZpcm9uWyJTSEVMTCJdID09ICIvYmluL3pzaCI6CiAgICAgICAgICAgIHJjX2ZpbGUgPSBob21lICsgIi8uenNocmMiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCJVbnN1cHBvcnRlZCBzaGVsbCEgU3VwcG9ydGVkIHNoZWxscyBhcmU6IGJhc2ggYW5kIHpzaCIpCgogICAgICAgICMgY2hlY2sgZm9yIGV4aXN0aW5nICJzb3VyY2UgJEhPTUUvLm9uZS1saW5lciIKICAgICAgICBzb3VyY2VfZXhpc3RzID0gRmFsc2UKICAgICAgICB3aXRoIG9wZW4ocmNfZmlsZSwgJ3InLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmaWxlOgogICAgICAgICAgICBmb3IgbGluZSBpbiBmaWxlLnJlYWRsaW5lcygpOgogICAgICAgICAgICAgICAgaWYgcmUuc2VhcmNoKCJeKFxzKnwpc291cmNlIC4qXC8ub25lLWxpbmVyIiwgbGluZSk6CiAgICAgICAgICAgICAgICAgICAgc291cmNlX2V4aXN0cyA9IFRydWUKCiAgICAgICAgaWYgbm90IHNvdXJjZV9leGlzdHM6CiAgICAgICAgICAgIHdpdGggb3BlbihyY19maWxlLCAnYScsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgICAgICAgICBmaWxlLndyaXRlKCJcbnNvdXJjZSB7fSIuZm9ybWF0KE9uZUxpbmVyLm9uZV9saW5lcl9hbGlhc19maWxlKSkKCiAgICAgICAgT25lTGluZXIuX3NvdXJjZSgpCgogICAgZGVmIF9oYW5kbGVfYXJnc19yZXF1aXJlZChzZWxmLCBuYW1lX3JlcXVpcmVkPUZhbHNlLCBuYW1lX2FuZF9maWxlcGF0aF9yZXF1aXJlZD1GYWxzZSwgaW5pdF9jb250ZW50c19yZXF1aXJlZD1GYWxzZSk6CiAgICAgICAgaWYgbmFtZV9hbmRfZmlsZXBhdGhfcmVxdWlyZWQ6CiAgICAgICAgICAgIGlmIChub3Qgc2VsZi5hcmdzLm5hbWUpIGFuZCBzZWxmLmFyZ3MuZmlsZXBhdGg6CiAgICAgICAgICAgICAgICBzZWxmLnBhcnNlci5lcnJvcigib25lLWxpbmVyIG5hbWUgaXMgcmVxdWlyZWQgZm9yIHRoaXMgbW9kZSEgU3BlY2lmeSBpdCBieSAtLW5hbWUgWy1uXSIpCgogICAgICAgICAgICBpZiAobm90IHNlbGYuYXJncy5maWxlcGF0aCkgYW5kIHNlbGYuYXJncy5uYW1lOgogICAgICAgICAgICAgICAgc2VsZi5wYXJzZXIuZXJyb3IoIm9uZS1saW5lciBuYW1lIGlzIHJlcXVpcmVkIGZvciB0aGlzIG1vZGUhIFNwZWNpZnkgaXQgYnkgLS1maWxlcGF0aCBbLWZdIikKCiAgICAgICAgICAgIGlmIG5vdCAoc2VsZi5hcmdzLm5hbWUgYW5kIHNlbGYuYXJncy5maWxlcGF0aCk6CiAgICAgICAgICAgICAgICBzZWxmLnBhcnNlci5lcnJvcigib25lLWxpbmVyIG5hbWUgYW5kIGZpbGVwYXRoIGFyZSByZXF1aXJlZCBmb3IgdGhpcyBtb2RlISBTcGVjaWZ5IGl0IGJ5IC0tbmFtZSBbLW5dICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhbmQgLS1maWxlcGF0aCBbLWZdIikKCiAgICAgICAgaWYgbmFtZV9yZXF1aXJlZDoKICAgICAgICAgICAgaWYgbm90IHNlbGYuYXJncy5uYW1lOgogICAgICAgICAgICAgICAgc2VsZi5wYXJzZXIuZXJyb3IoIm9uZS1saW5lciBuYW1lIGlzIHJlcXVpcmVkIGZvciB0aGlzIG1vZGUhIFNwZWNpZnkgaXQgYnkgLS1uYW1lIFstbl0iKQoKICAgICAgICBpZiBpbml0X2NvbnRlbnRzX3JlcXVpcmVkOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5hcmdzLmluaXRfZmlsZV9jb250ZW50czoKICAgICAgICAgICAgICAgIHNlbGYucGFyc2VyLmVycm9yKCJvbmUtbGluZXIucHkgY29udGVudHMgaXMgcmVxdWlyZWQgZm9yIHRoaXMgbW9kZSEgU3BlY2lmeSBpdCBieSAtLWluaXRfZmlsZV9jb250ZW50cyIpCgogICAgZGVmIGhhbmRsZShzZWxmKToKICAgICAgICBpZiBzZWxmLmFyZ3MubW9kZSBpbiBPbmVMaW5lci5tb2Rlc1siaW5pdCJdOgogICAgICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIGVsaWYgc2VsZi5hcmdzLm1vZGUgaW4gT25lTGluZXIubW9kZXNbInByaW50Il06CiAgICAgICAgICAgIHNlbGYuX2hhbmRsZV9hcmdzX3JlcXVpcmVkKG5hbWVfcmVxdWlyZWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5faGFuZGxlX3ByaW50KCkKICAgICAgICBlbGlmIHNlbGYuYXJncy5tb2RlIGluIE9uZUxpbmVyLm1vZGVzWyJjcmVhdGUiXToKICAgICAgICAgICAgc2VsZi5faGFuZGxlX2FyZ3NfcmVxdWlyZWQobmFtZV9hbmRfZmlsZXBhdGhfcmVxdWlyZWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5faGFuZGxlX2NyZWF0ZSgpCiAgICAgICAgZWxpZiBzZWxmLmFyZ3MubW9kZSBpbiBPbmVMaW5lci5tb2Rlc1sib3ZlcnJpZGUiXToKICAgICAgICAgICAgc2VsZi5faGFuZGxlX2FyZ3NfcmVxdWlyZWQobmFtZV9hbmRfZmlsZXBhdGhfcmVxdWlyZWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5faGFuZGxlX292ZXJyaWRlKCkKICAgICAgICBlbGlmIHNlbGYuYXJncy5tb2RlIGluIE9uZUxpbmVyLm1vZGVzWyJkdW1wIl06CiAgICAgICAgICAgIHNlbGYuX2hhbmRsZV9hcmdzX3JlcXVpcmVkKG5hbWVfcmVxdWlyZWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5faGFuZGxlX2V4cG9ydCgpCiAgICAgICAgZWxpZiBzZWxmLmFyZ3MubW9kZSBpbiBPbmVMaW5lci5tb2Rlc1sibGlzdCJdOgogICAgICAgICAgICBzZWxmLl9oYW5kbGVfbGlzdCgpCiAgICAgICAgZWxpZiBzZWxmLmFyZ3MubW9kZSBpbiBPbmVMaW5lci5tb2Rlc1siZGVsZXRlIl06CiAgICAgICAgICAgIHNlbGYuX2hhbmRsZV9hcmdzX3JlcXVpcmVkKG5hbWVfcmVxdWlyZWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5faGFuZGxlX2RlbGV0ZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5wYXJzZXIuZXJyb3IoIkludmFsaWQgbW9kZSIpCgogICAgZGVmIF9oYW5kbGVfcHJpbnQoc2VsZik6CiAgICAgICAgd2l0aCBvcGVuKE9uZUxpbmVyLm9uZV9saW5lcl9hbGlhc19maWxlLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGZpbGUucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoImFsaWFzICIpOgogICAgICAgICAgICAgICAgICAgIG9uZWxpbmVyX25hbWUgPSBsaW5lLmxzdHJpcCgiYWxpYXMgIilbOmxpbmUubHN0cmlwKCJhbGlhcyAiKS5pbmRleCgiPSIpXS5zdHJpcCgiICIpCiAgICAgICAgICAgICAgICAgICAgaWYgb25lbGluZXJfbmFtZSA9PSBzZWxmLmFyZ3MubmFtZToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlxuXHQiICsgbGluZSkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIiIpIGlmIG5vdCBsaW5lLmVuZHN3aXRoKCJcbiIpIGVsc2UgTm9uZQoKICAgIGRlZiBfaGFuZGxlX2NyZWF0ZShzZWxmKToKICAgICAgICBvbmVfbGluZXJfbmFtZSA9IHNlbGYuYXJncy5uYW1lIGlmIHNlbGYuYXJncy5uYW1lICE9ICIiIGVsc2Ugc2VsZi5hcmdzLmZpbGVwYXRoCiAgICAgICAgIyBvbmVfbGluZXJfYWxpYXNfZmlsZSA9IHBhdGguZXhwYW5kdXNlcignficpICsgJy8ub25lLWxpbmVyJwoKICAgICAgICB3aXRoIG9wZW4oc2VsZi5hcmdzLmZpbGVwYXRoLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmaWxlOgogICAgICAgICAgICBieXRlX2FycmF5ID0gZmlsZS5yZWFkKCkuZW5jb2RlKCd1dGYtOCcpCgogICAgICAgIG9uZV9saW5lciA9ICJhbGlhcyB7fT0ne30gLWMgXCJpbXBvcnQgYmFzZTY0OyBkZWNvZGVkX3N0cmluZyA9IGJhc2U2NC5iNjRkZWNvZGUoYidcIidcIid7fSdcIidcIicpLmRlY29kZSgpOyBleGVjKGRlY29kZWRfc3RyaW5nKVwiJyIuZm9ybWF0KG9uZV9saW5lcl9uYW1lLCBPbmVMaW5lci5vbmVfbGluZXJfcHl0aG9uX2V4ZWMsIGJhc2U2NC5iNjRlbmNvZGUoYnl0ZV9hcnJheSkuZGVjb2RlKCJ1dGYtOCIpKQoKICAgICAgICBpZiBzZWxmLmFyZ3MudmVyYm9zZToKICAgICAgICAgICAgcHJpbnQob25lX2xpbmVyKQoKICAgICAgICB3aXRoIG9wZW4oT25lTGluZXIub25lX2xpbmVyX2FsaWFzX2ZpbGUsICdhKycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgICAgIGZpbGUud3JpdGUoIlxuIiArIG9uZV9saW5lciArICJcbiIpCgogICAgICAgIE9uZUxpbmVyLl9zb3VyY2UoKQoKICAgIGRlZiBfaGFuZGxlX292ZXJyaWRlKHNlbGYpOgogICAgICAgIHdpdGggb3BlbihPbmVMaW5lci5vbmVfbGluZXJfYWxpYXNfZmlsZSwgJ3IrJywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZmlsZToKICAgICAgICAgICAgbGluZXMgPSBmaWxlLnJlYWRsaW5lcygpCiAgICAgICAgICAgIGZpbGUuc2VlaygwKQogICAgICAgICAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICAgICAgICAgIGxpbmVfdG9fb3ZlcnJpZGUgPSBGYWxzZQoKICAgICAgICAgICAgICAgIGlmIGxpbmUuc3RhcnRzd2l0aCgiYWxpYXMgIik6CiAgICAgICAgICAgICAgICAgICAgb25lbGluZXJfbmFtZSA9IGxpbmUubHN0cmlwKCJhbGlhcyAiKVs6bGluZS5sc3RyaXAoImFsaWFzICIpLmluZGV4KCI9IildLnN0cmlwKCIgIikKICAgICAgICAgICAgICAgICAgICBpZiBvbmVsaW5lcl9uYW1lID09IHNlbGYuYXJncy5uYW1lOgogICAgICAgICAgICAgICAgICAgICAgICBsaW5lX3RvX292ZXJyaWRlID0gVHJ1ZQoKICAgICAgICAgICAgICAgICAgICAgICAgb25lX2xpbmVyX25hbWUgPSBzZWxmLmFyZ3MubmFtZSBpZiBzZWxmLmFyZ3MubmFtZSAhPSAiIiBlbHNlIHNlbGYuYXJncy5maWxlcGF0aAoKICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBvcGVuKHNlbGYuYXJncy5maWxlcGF0aCwgZW5jb2Rpbmc9J3V0Zi04JykgYXMgbmV3X2ZpbGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlX2FycmF5ID0gbmV3X2ZpbGUucmVhZCgpLmVuY29kZSgndXRmLTgnKQoKICAgICAgICAgICAgICAgICAgICAgICAgb25lX2xpbmVyID0gImFsaWFzIHt9PSd7fSAtYyBcImltcG9ydCBiYXNlNjQ7IGRlY29kZWRfc3RyaW5nID0gYmFzZTY0LmI2NGRlY29kZShiJ1wiJ1wiJ3t9J1wiJ1wiJykuZGVjb2RlKCk7IGV4ZWMoZGVjb2RlZF9zdHJpbmcpXCInIi5mb3JtYXQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVfbGluZXJfbmFtZSwgT25lTGluZXIub25lX2xpbmVyX3B5dGhvbl9leGVjLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0LmI2NGVuY29kZShieXRlX2FycmF5KS5kZWNvZGUoInV0Zi04IikpCgogICAgICAgICAgICAgICAgICAgICAgICBmaWxlLndyaXRlKG9uZV9saW5lcikKCiAgICAgICAgICAgICAgICBpZiBub3QgbGluZV90b19vdmVycmlkZToKICAgICAgICAgICAgICAgICAgICBmaWxlLndyaXRlKGxpbmUpCiAgICAgICAgICAgIGZpbGUudHJ1bmNhdGUoKQogICAgICAgIE9uZUxpbmVyLl9zb3VyY2UoKQoKICAgIGRlZiBfaGFuZGxlX2RlY29kZShzZWxmKToKICAgICAgICB3aXRoIG9wZW4oT25lTGluZXIub25lX2xpbmVyX2FsaWFzX2ZpbGUsICdyJywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZmlsZToKICAgICAgICAgICAgZm9yIGxpbmUgaW4gZmlsZS5yZWFkbGluZXMoKToKICAgICAgICAgICAgICAgIGlmIGxpbmUuc3RhcnRzd2l0aCgiYWxpYXMgIik6CiAgICAgICAgICAgICAgICAgICAgb25lbGluZXJfbmFtZSA9IGxpbmUubHN0cmlwKCJhbGlhcyAiKVs6bGluZS5sc3RyaXAoImFsaWFzICIpLmluZGV4KCI9IildLnN0cmlwKCIgIikKICAgICAgICAgICAgICAgICAgICBpZiBvbmVsaW5lcl9uYW1lID09IHNlbGYuYXJncy5uYW1lOgogICAgICAgICAgICAgICAgICAgICAgICBiID0gbGluZVtsaW5lLmluZGV4KCJiYXNlNjQuYjY0ZGVjb2RlKGInIikrbGVuKCJiYXNlNjQuYjY0ZGVjb2RlKGInIik6bGluZS5pbmRleCgiJykuZGVjb2RlKCk7IildCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGJhc2U2NC5iNjRkZWNvZGUoYikuZGVjb2RlKCkpCgogICAgZGVmIF9oYW5kbGVfZXhwb3J0KHNlbGYpOgogICAgICAgIHdpdGggb3BlbihPbmVMaW5lci5vbmVfbGluZXJfYWxpYXNfZmlsZSwgJ3InLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmaWxlOgogICAgICAgICAgICBmb3IgbGluZSBpbiBmaWxlLnJlYWRsaW5lcygpOgogICAgICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKCJhbGlhcyAiKToKICAgICAgICAgICAgICAgICAgICBvbmVsaW5lcl9uYW1lID0gbGluZS5sc3RyaXAoImFsaWFzICIpWzpsaW5lLmxzdHJpcCgiYWxpYXMgIikuaW5kZXgoIj0iKV0uc3RyaXAoIiAiKQogICAgICAgICAgICAgICAgICAgIGlmIG9uZWxpbmVyX25hbWUgPT0gc2VsZi5hcmdzLm5hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U2NF9jb2RlID0gcmUuc2VhcmNoKCInXCInXCInLionXCInXCInIiwgbGluZSkuZ3JvdXAoKS5zdHJpcCgiJ1wiJ1wiJyIpCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5hcmdzLmZpbGVwYXRoOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoImZpbGVwYXRoIGlzIG5vdCBzcGVjaWZpZWQsIGR1bXBpbmcgdG8gdGhlIHRlcm1pbmFsXG4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIioiICogNTApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChiYXNlNjQuYjY0ZGVjb2RlKGJhc2U2NF9jb2RlKS5kZWNvZGUoInV0Zi04IikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiKiIgKiA1MCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJmaWxlcGF0aCBpcyBzcGVjaWZpZWQsIHNhdmluZyB0byB0aGF0IGZpbGUiKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVwYXRoID0gc3RyKHNlbGYuYXJncy5maWxlcGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVwYXRoID0gZmlsZXBhdGggKyAiLnB5IiBpZiBub3QgZmlsZXBhdGguZW5kc3dpdGgoIi5weSIpIGVsc2UgZmlsZXBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZmlsZXBhdGgsICd4JywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgbmV3X2ZpbGU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19maWxlLndyaXRlKGJhc2U2NC5iNjRkZWNvZGUoYmFzZTY0X2NvZGUpLmRlY29kZSgidXRmLTgiKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBGaWxlRXhpc3RzRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIk92ZXJyaWRlIHByb3RlY3Rpb246IFRoaXMgZmlsZSBhbHJlYWR5IGV4aXN0cyEiKQoKICAgIGRlZiBfaGFuZGxlX2xpc3Qoc2VsZik6CiAgICAgICAgd2l0aCBvcGVuKE9uZUxpbmVyLm9uZV9saW5lcl9hbGlhc19maWxlLCAncicsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGZpbGU6CiAgICAgICAgICAgIGZvciBsaW5lIGluIGZpbGUucmVhZGxpbmVzKCk6CiAgICAgICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoImFsaWFzICIpOgogICAgICAgICAgICAgICAgICAgIHByaW50KGxpbmUubHN0cmlwKCJhbGlhcyAiKVs6bGluZS5sc3RyaXAoImFsaWFzICIpLmluZGV4KCI9IildLnN0cmlwKCIgIikpCgogICAgZGVmIF9oYW5kbGVfZGVsZXRlKHNlbGYpOgogICAgICAgIHdpdGggb3BlbihPbmVMaW5lci5vbmVfbGluZXJfYWxpYXNfZmlsZSwgJ3IrJywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgZmlsZToKICAgICAgICAgICAgbGluZXMgPSBmaWxlLnJlYWRsaW5lcygpCiAgICAgICAgICAgIGZpbGUuc2VlaygwKQogICAgICAgICAgICBmb3IgbGluZSBpbiBsaW5lczoKICAgICAgICAgICAgICAgIGxpbmVfdG9fZGVsZXRlID0gRmFsc2UKCiAgICAgICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgoImFsaWFzICIpOgogICAgICAgICAgICAgICAgICAgIG9uZWxpbmVyX25hbWUgPSBsaW5lLmxzdHJpcCgiYWxpYXMgIilbOmxpbmUubHN0cmlwKCJhbGlhcyAiKS5pbmRleCgiPSIpXS5zdHJpcCgiICIpCiAgICAgICAgICAgICAgICAgICAgaWYgb25lbGluZXJfbmFtZSA9PSBzZWxmLmFyZ3MubmFtZToKICAgICAgICAgICAgICAgICAgICAgICAgbGluZV90b19kZWxldGUgPSBUcnVlCgogICAgICAgICAgICAgICAgaWYgbm90IGxpbmVfdG9fZGVsZXRlOgogICAgICAgICAgICAgICAgICAgIGZpbGUud3JpdGUobGluZSkKICAgICAgICAgICAgZmlsZS50cnVuY2F0ZSgpCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9zb3VyY2UoKToKICAgICAgICBwcmludCgiXG5FeGVjdXRlIHRoZSBmb2xsb3dpbmcgaW4gc2hlbGwgZm9yIGNoYW5nZXMgdG8gdGFrZSBlZmZlY3Q6IikKICAgICAgICBwcmludCgiXHQkIHNvdXJjZSB7fVxuIi5mb3JtYXQoT25lTGluZXIub25lX2xpbmVyX2FsaWFzX2ZpbGUpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBvbmVMaW5lciA9IE9uZUxpbmVyKCkKICAgIG9uZUxpbmVyLmhhbmRsZSgp'"'"').decode(); exec(decoded_string)"'
